{% extends "base.html" %} {% block title %}Prepare Session with {{ student.name
}}{% endblock %} {% block heading %}Counseling Preparation: {{ student.name }}
ðŸ§ {% endblock %} {% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
  <div class="lg:col-span-2 space-y-6">
    <div
      class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-student-blue"
    >
      <h3 class="text-xl font-semibold text-gray-800 mb-3">
        Student Context Summary
      </h3>
      <p class="text-gray-600 mb-3">
        <span class="font-medium">Primary Weakness Areas:</span> {{
        student.weakness_areas }}
      </p>
      <p class="text-gray-600">
        <span class="font-medium">Reason for Request:</span> Need help with
        advanced calculus.
      </p>
    </div>

    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-yellow-500">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">
        Mentor Pre-Session Assessment
      </h3>
      <p class="text-gray-600 mb-6 text-sm">
        Answer these questions to help the AI tailor the most effective tips for
        your session, ensuring you've understood the student's background.
      </p>

      <form
        action="{{ url_for('mentor_session', session_id='sess_001') }}"
        method="POST"
        class="space-y-6"
      >
        <div class="form-group space-y-4">
          {% for q in questions %}
          <div>
            <label
              for="question_{{ loop.index }}"
              class="block text-sm font-semibold text-gray-700 mb-1"
              >Q{{ loop.index }}: {{ q }}</label
            >
            <textarea
              id="question_{{ loop.index }}"
              name="mentor_assessment"
              rows="3"
              required
              class="w-full border border-gray-300 rounded-lg p-2 focus:ring-yellow-500 focus:border-yellow-500"
              placeholder="Type your assessment here..."
            ></textarea>
          </div>
          {% endfor %}
        </div>

        <button
          type="submit"
          class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 rounded-xl transition duration-300 shadow-md"
        >
          Generate AI Tips & Talking Points
        </button>
      </form>
    </div>
  </div>

  <div class="lg:col-span-1">
    <div
      class="bg-gray-100 p-6 rounded-xl shadow-lg h-full border-t-4 border-mentor-green"
    >
      <h3
        class="text-xl font-bold text-mentor-green mb-4 flex items-center space-x-2"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
            clip-rule="evenodd"
          />
        </svg>
        <span>AI Session Tips</span>
      </h3>

      {% if ai_tips %}
      <div class="prose max-w-none text-gray-700 space-y-4">
        {{ ai_tips|safe }}
      </div>

      <hr class="my-4" />
      <button
        class="w-full bg-student-blue hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition duration-300"
      >
        Upload Post-Session Report
      </button>

      {% else %}
      <p
        class="text-gray-500 italic p-4 bg-white rounded-lg border border-dashed border-gray-300"
      >
        Submit your assessment on the left to unlock personalized AI-generated
        talking points, probing questions, and preparation tips for this
        counseling session.
      </p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
